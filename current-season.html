<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Current Season | GNMFA</title>
  <link rel="stylesheet" href="/Buffalos/assets/style.css" />

  <style>
    .page-wrap{ padding:14px 0 32px; }
    .stack{ display:grid; gap:14px; }

    .card{
      border-radius:18px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.06);
      box-shadow:0 10px 26px rgba(0,0,0,.22);
      padding:14px;
    }

    .section-title{
      font-weight:1000;
      letter-spacing:1px;
      text-transform:uppercase;
      font-size:14px;
      margin:0 0 10px;
      color:rgba(255,255,255,.92);
    }

    /* ===============================
       SEASON MENU
       Mobile: stacked
       Desktop: 75% / 25%
       =============================== */
    .season-menu{
      display:grid;
      gap:12px;
      grid-template-columns:1fr; /* mobile */
    }

    @media (min-width: 720px){
      .season-menu{
        grid-template-columns: 3fr 1fr; /* 75% / 25% */
        align-items:stretch;
      }
      .season-block{ height:100%; }
    }

    .season-block{
      border-radius:18px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.18);
      padding:14px;

      display:flex;
      flex-direction:column;
      align-items:center; /* CENTER CONTENT */
    }

    .season-label{
      font-weight:1000;
      letter-spacing:1.4px;
      text-transform:uppercase;
      font-size:12px;
      margin:0 0 12px;
      color:rgba(255,255,255,.85);
      text-align:center;
    }

    .pill-row{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      justify-content:center; /* CENTER BUTTONS */
    }

    .pill{
      padding:10px 16px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.25);
      font-weight:900;
      text-transform:uppercase;
      letter-spacing:.7px;
      font-size:12px;
      opacity:.95;
      text-align:center;
    }
    .pill:hover{ background:rgba(255,255,255,.08); opacity:1; }

    /* Map button */
    .map-link{
      display:inline-flex;
      gap:10px;
      align-items:center;
      padding:12px 14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.08);
      font-weight:900;
      letter-spacing:.6px;
      text-transform:uppercase;
      font-size:12px;
    }
    .map-link:hover{ background:rgba(255,255,255,.12); }

    /* Calendar */
    .cal-wrap{
      border-radius:18px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.15);
    }
    .cal-wrap iframe{
      width:100%;
      height:70vh;
      min-height:560px;
      border:0;
      display:block;
    }

    /* Calendar selector */
    .cal-controls{
      display:grid;
      gap:10px;
      margin: 10px 0 12px;
      padding:12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(0,0,0,.18);
    }

    .cal-controls .hint{
      font-size:12px;
      color:rgba(255,255,255,.72);
      line-height:1.35;
      margin:0;
    }

    .check-row{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      justify-content:center; /* center checkboxes */
    }

    .check-pill{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(0,0,0,.25);
      user-select:none;
      cursor:pointer;
    }

    .check-pill input{
      width:18px;
      height:18px;
      accent-color:#0b1a33; /* navy */
      cursor:pointer;
    }

    .check-pill span{
      font-weight:900;
      text-transform:uppercase;
      letter-spacing:.6px;
      font-size:12px;
      color:rgba(255,255,255,.90);
    }

    .cal-actions{
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top:4px;
    }

    .small-btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.08);
      font-weight:900;
      letter-spacing:.6px;
      text-transform:uppercase;
      font-size:12px;
      cursor:pointer;
    }
    .small-btn:hover{ background:rgba(255,255,255,.12); }
  </style>
</head>

<body>
  <header class="topbar camo">
    <div class="container">
      <div class="topbar-inner">
        <a class="brand" href="/Buffalos/index.html" aria-label="GNMFA Home">
          <img src="/Buffalos/assets/img/logo.png" alt="GNMFA logo" />
          <div class="text">
            <div class="title">GNMFA</div>
            <div class="subtitle">Youth Football</div>
          </div>
        </a>

        <nav class="nav" aria-label="Primary navigation">
          <a href="/Buffalos/index.html">Home</a>
          <a class="active" href="/Buffalos/current-season.html">Current Season</a>
          <a href="/Buffalos/registration.html">Registration</a>
          <a href="/Buffalos/directions.html">Directions</a>
        </nav>

        <div class="actions">
          <a class="btn primary" href="/Buffalos/registration.html"
             style="padding:10px 12px;border-radius:14px;font-size:12px;">
            Register
          </a>
          <button class="icon-btn mobile-toggle" type="button"
                  aria-label="Open menu" aria-expanded="false"
                  data-mobile-toggle>
            <div class="burger-lines" aria-hidden="true">
              <span></span><span></span><span></span>
            </div>
          </button>
        </div>
      </div>

      <div class="mobile-menu" data-mobile-menu>
        <a href="/Buffalos/index.html">Home</a>
        <a class="active" href="/Buffalos/current-season.html">Current Season</a>
        <a href="/Buffalos/registration.html">Registration</a>
        <a href="/Buffalos/directions.html">Directions</a>
      </div>
    </div>
  </header>

  <main class="page-wrap">
    <div class="container">
      <div class="stack">

        <!-- FALL / SPRING -->
        <div class="season-menu">
          <div class="season-block">
            <div class="season-label">Fall</div>
            <div class="pill-row">
              <a class="pill" href="/Buffalos/teams/midget.html">Midget</a>
              <a class="pill" href="/Buffalos/teams/pony.html">Pony</a>
              <a class="pill" href="/Buffalos/teams/peewee.html">PeeWee</a>
              <a class="pill" href="/Buffalos/teams/smurf.html">Smurf</a>
            </div>
          </div>

          <div class="season-block">
            <div class="season-label">Spring</div>
            <div class="pill-row">
              <a class="pill" href="/Buffalos/teams/flag-football.html">Flag Football</a>
            </div>
          </div>
        </div>

        <!-- FIELD -->
        <div class="card">
          <div class="section-title">Home Field</div>
          <div style="color:rgba(255,255,255,.85); line-height:1.5; margin-bottom:10px;">
            208 W Juniata Pkwy, Millerstown, PA 17062
          </div>
          <a class="map-link"
             href="https://www.google.com/maps/search/?api=1&query=208%20W%20Juniata%20Pkwy%2C%20Millerstown%2C%20PA%2017062"
             target="_blank" rel="noopener">
            Open in Google Maps
          </a>
        </div>

        <!-- CALENDAR -->
        <div class="card">
          <div class="section-title">Calendars (Schedule View)</div>

          <!-- CHECKBOX CONTROLS -->
          <div class="cal-controls" aria-label="Calendar filters">
            <p class="hint">
              Select one or more calendars to display. (If none selected, weâ€™ll show the Main calendar.)
            </p>

            <div class="check-row">
              <label class="check-pill">
                <input type="checkbox" class="cal-check" data-cal="main" checked />
                <span>Main</span>
              </label>

              <label class="check-pill">
                <input type="checkbox" class="cal-check" data-cal="midget" />
                <span>Midget</span>
              </label>

              <label class="check-pill">
                <input type="checkbox" class="cal-check" data-cal="pony" />
                <span>Pony</span>
              </label>

              <label class="check-pill">
                <input type="checkbox" class="cal-check" data-cal="peewee" />
                <span>PeeWee</span>
              </label>

              <label class="check-pill">
                <input type="checkbox" class="cal-check" data-cal="smurf" />
                <span>Smurf</span>
              </label>

              <label class="check-pill">
                <input type="checkbox" class="cal-check" data-cal="flag" />
                <span>Flag</span>
              </label>
            </div>

            <div class="cal-actions">
              <button class="small-btn" type="button" id="calSelectAll">Select All</button>
              <button class="small-btn" type="button" id="calClear">Clear</button>
              <button class="small-btn" type="button" id="calMainOnly">Main Only</button>
            </div>
          </div>

          <div class="cal-wrap">
            <iframe id="calendarFrame"
              src="https://calendar.google.com/calendar/embed?ctz=America%2FNew_York&mode=AGENDA&src=greenwoodnewportmfa%40gmail.com"
              scrolling="no">
            </iframe>
          </div>
        </div>

      </div>
    </div>
  </main>

  <div class="site-banner">GREENWOOD NEWPORT MIDGET FOOTBALL ASSOCIATION</div>

  <script src="/Buffalos/assets/site.js"></script>
  <script>
    // Calendar IDs (the "src=" values)
    const CALS = {
      main:   "greenwoodnewportmfa@gmail.com",
      midget: "edadf15131fa59c3034dd5cda720cff7022f4715a342e223f0eba69677c44793@group.calendar.google.com",
      peewee: "1ea58f6ae42c7d08cd7ad9e39b7d4b747ca1e212a77096caadfcb0569eedc458@group.calendar.google.com",
      pony:   "96f7a0490181387d4827555994a09291b7e38b2548ce8804cd095b62c04df745@group.calendar.google.com",
      smurf:  "78c04e59857b5b7735fdbd64e588dc7e0f56408d9d401a4e626422281fa33ad9@group.calendar.google.com",
      flag:   "b53aad8bb141e32a2eabe3d3b82a4afeeedf672a61f87e7c1f41b9ef527b9f27@group.calendar.google.com"
    };

    const frame = document.getElementById("calendarFrame");
    const checks = Array.from(document.querySelectorAll(".cal-check"));

    function buildCalendarUrl(selectedKeys){
      const base = new URL("https://calendar.google.com/calendar/embed");
      base.searchParams.set("ctz", "America/New_York");
      base.searchParams.set("mode", "AGENDA");

      // If none selected, default to Main
      const keys = selectedKeys.length ? selectedKeys : ["main"];
      keys.forEach(k => base.searchParams.append("src", CALS[k]));

      return base.toString();
    }

    function getSelectedKeys(){
      return checks.filter(c => c.checked).map(c => c.dataset.cal);
    }

    function updateCalendar(){
      frame.src = buildCalendarUrl(getSelectedKeys());
    }

    // checkbox change listeners
    checks.forEach(c => c.addEventListener("change", updateCalendar));

    // buttons
    document.getElementById("calSelectAll").addEventListener("click", () => {
      checks.forEach(c => c.checked = true);
      updateCalendar();
    });

    document.getElementById("calClear").addEventListener("click", () => {
      checks.forEach(c => c.checked = false);
      updateCalendar(); // will fall back to Main
    });

    document.getElementById("calMainOnly").addEventListener("click", () => {
      checks.forEach(c => c.checked = (c.dataset.cal === "main"));
      updateCalendar();
    });

    // initial set
    updateCalendar();
  </script>
</body>
</html>

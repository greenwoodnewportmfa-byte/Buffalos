<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Registration | GNMFA</title>

  <!-- Shared theme -->
  <link rel="stylesheet" href="/Buffalos/assets/style.css" />

  <style>
    .page-wrap{ padding:16px 0 28px; }

    /* 80/20 desktop layout */
    .reg-layout{
      width: min(1300px, 96vw);
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr;     /* mobile default */
      gap: 14px;
      align-items: start;
    }
    @media (min-width: 900px){
      .reg-layout{
        grid-template-columns: 4fr 1fr; /* 80% / 20% */
      }
    }

    /* Registration card */
    .reg-card{
      border-radius:18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      box-shadow: 0 10px 26px rgba(0,0,0,.22);
      padding: 16px;
    }

    .reg-header{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:14px;
      flex-wrap:wrap;
      margin-bottom:12px;
    }

    .reg-title{
      margin:0;
      font-weight:1000;
      letter-spacing:1px;
      text-transform:uppercase;
      font-size:14px;
      color: rgba(255,255,255,.92);
    }

    .reg-sub{
      margin:8px 0 0;
      color: rgba(255,255,255,.78);
      font-size:13px;
      line-height:1.45;
      max-width: 820px;
    }

    /* Payment buttons */
    .pay-cta,
    .pay-right{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
      align-items:center;
    }

    .pay-btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding:10px 14px;
      border-radius:14px;
      font-weight:1000;
      letter-spacing:.7px;
      text-transform:uppercase;
      font-size:12px;
      border:1px solid rgba(0,0,0,.25);
      white-space:nowrap;
    }

    .cashapp{
      background:#00d632;
      color:#0b1a33;
    }
    .cashapp:hover{ background:#00c02c; }

    .venmo{
      background:#f4c430;
      color:#0b1a33;
    }
    .venmo:hover{ background:#e6b928; }

    .pay-note{
      text-align:right;
      max-width: 360px;
      font-size:12px;
      line-height:1.35;
      color: rgba(255,255,255,.78);
    }
    .pay-note strong{ color:#fff; }

    /* Google Form */
    .form-wrap{
      margin-top:12px;
      border-radius:16px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
    }
    .form-wrap iframe{
      width:100%;
      height:980px;
      border:0;
      display:block;
    }

    /* Bottom row */
    .reg-footer-row{
      display:flex;
      justify-content:space-between;
      align-items:flex-end;
      gap:14px;
      flex-wrap:wrap;
      margin-top:14px;
    }

    .pay-left{
      max-width:520px;
      font-size:12px;
      line-height:1.35;
      color: rgba(255,255,255,.78);
    }
    .pay-left strong{ color:#fff; }

    @media (max-width: 520px){
      .pay-note{ text-align:left; max-width: 100%; }
      .pay-cta{ justify-content:flex-start; }
      .pay-right{ justify-content:flex-start; }
    }

    /* Sponsors sidebar card (right on desktop, bottom on mobile due to grid stacking) */
    .sponsors-card{
      border-radius:18px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      box-shadow: 0 10px 26px rgba(0,0,0,.22);
      padding: 14px;
    }

    .sponsors-card h2{
      margin: 0 0 12px;
      font-size: 13px;
      font-weight: 1000;
      letter-spacing: 1px;
      text-transform: uppercase;
      color: rgba(255,255,255,.92);
      text-align: center;
    }

    .sponsor-grid{
      display:grid;
      grid-template-columns: 1fr; /* narrow sidebar */
      gap: 12px;
      justify-items:center;
      align-items:center;
    }

    /* On mobile, show 3 across */
    @media (max-width: 899px){
      .sponsor-grid{
        grid-template-columns: repeat(3, 1fr);
      }
    }

    .sponsor-tile{
      width: 100%;
      aspect-ratio: 1 / 1;
      max-width: 160px;
      border-radius: 16px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.12);
      display: grid;
      place-items: center;
      padding: 10px;
    }

    .sponsor-tile img{
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      display:block;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.35));
    }

    .sponsors-card .thanks{
      margin-top: 12px;
      text-align:center;
      font-size: 12px;
      color: rgba(255,255,255,.78);
      letter-spacing: .4px;
      text-transform: uppercase;
      font-weight: 900;
    }

    @media (max-width: 520px){
      .sponsor-tile{ max-width: 110px; padding: 8px; }
    }
  </style>
</head>

<body>

  <!-- SHARED HEADER -->
  <header class="topbar camo">
    <div class="container">
      <div class="topbar-inner">
        <a class="brand" href="/Buffalos/index.html" aria-label="GNMFA Home">
          <img src="/Buffalos/assets/img/logo.png" alt="GNMFA logo" />
          <div class="text">
            <div class="title">GNMFA</div>
            <div class="subtitle">Youth Football</div>
          </div>
        </a>

        <nav class="nav" aria-label="Primary navigation">
          <a href="/Buffalos/index.html">Home</a>
          <a href="/Buffalos/current-season.html">Current Season</a>
          <a class="active" href="/Buffalos/registration.html">Registration</a>
          <a href="/Buffalos/more.html">More</a>
        </nav>

        <div class="actions">
          <a class="btn primary" href="/Buffalos/registration.html">Register</a>
          <button class="icon-btn mobile-toggle"
                  aria-label="Open menu"
                  aria-expanded="false"
                  data-mobile-toggle>
            <div class="burger-lines" aria-hidden="true"><span></span><span></span><span></span></div>
          </button>
        </div>
      </div>

      <div class="mobile-menu" data-mobile-menu>
        <a href="/Buffalos/index.html">Home</a>
        <a href="/Buffalos/current-season.html">Current Season</a>
        <a class="active" href="/Buffalos/registration.html">Registration</a>
        <a href="/Buffalos/more.html">More</a>
      </div>
    </div>
  </header>

  <main class="page-wrap">
    <div class="reg-layout">

      <!-- LEFT: REGISTRATION (80%) -->
      <section class="reg-card">
        <div class="reg-header">
          <div>
            <h2 class="reg-title">Online Registration</h2>
            <p class="reg-sub">
              Registration fee is <strong>$150 per player</strong>.
              After submitting the form, please complete payment.
              <strong>CashApp and Venmo payments must include Player Name + Age Group.</strong>
              Cash and Check are also accepted.
            </p>
          </div>

          <div class="pay-cta">
            <a class="pay-btn cashapp" href="https://cash.app/$kephartSamuel" target="_blank" rel="noopener">
              CashApp – $150
            </a>
            <a class="pay-btn venmo" href="https://venom.com/code?user_id=3124942983921664469&created=1770423291" target="_blank" rel="noopener">
              Venmo – $150
            </a>

            <div class="pay-note">
              <div><strong>Required Note:</strong></div>
              <div>Player Name + Age Group</div>
              <div><strong>Also Accepted:</strong> Cash or Check</div>
            </div>
          </div>
        </div>

        <div class="form-wrap">
          <iframe
            title="GNMFA Registration Form"
            src="https://docs.google.com/forms/d/e/1FAIpQLSfgbBYwvDOM_4DM8P-tkcRN1DIWt2omDzg7Wa_0ozbfprITSg/viewform?embedded=true"
            loading="lazy">
          </iframe>
        </div>

        <div class="reg-footer-row">
          <div class="pay-left">
            <div><strong>Payment Options:</strong></div>
            <div><strong>CashApp / Venmo:</strong> Include <strong>Player Name + Age Group</strong></div>
            <div><strong>Cash / Check:</strong> Accepted (coordinate with coach or board)</div>
          </div>

          <div class="pay-right">
            <a class="pay-btn cashapp" href="https://cash.app/$kephartSamuel" target="_blank" rel="noopener">
              CashApp – $150
            </a>
            <a class="pay-btn venmo" href="https://venom.com/code?user_id=3124942983921664469&created=1770423291" target="_blank" rel="noopener">
              Venmo – $150
            </a>
          </div>
        </div>
      </section>

      <!-- RIGHT: SPONSORS (20%) / bottom on mobile -->
      <aside class="sponsors-card" aria-label="Sponsors">
        <h2>Thank You to Our Sponsors</h2>

        <div class="sponsor-grid" role="list">
          <div class="sponsor-tile" role="listitem"><img id="sponsor1" alt="Sponsor logo 1"></div>
          <div class="sponsor-tile" role="listitem"><img id="sponsor2" alt="Sponsor logo 2"></div>
          <div class="sponsor-tile" role="listitem"><img id="sponsor3" alt="Sponsor logo 3"></div>
        </div>

        <div class="thanks">We appreciate your support</div>
      </aside>

    </div>
  </main>

  <!-- WHITE FOOTER STRIP -->
  <div class="site-banner">
    GREENWOOD NEWPORT MIDGET FOOTBALL ASSOCIATION
  </div>

  <script src="/Buffalos/assets/site.js"></script>

  <script>
    // =========================
    // Sponsor Image Selection (Safe + Fallback)
    // Rules:
    // - 2 images from sponsormain01..20 (no duplicates)
    // - 1 image from sponsor01..20 (no duplicates)
    // - If only 1 sponsormain exists, use 2 of the normal sponsor images
    // - If any file doesn't exist, default to sponsormain01.png and sponsor01.png
    // =========================

    const BASE = "/Buffalos/assets/img/";
    const FALLBACK_MAIN = `${BASE}sponsormain01.png`;
    const FALLBACK = `${BASE}sponsor01.png`;

    function buildList(prefix, max){
      return Array.from({length:max}, (_,i) =>
        `${BASE}${prefix}${String(i+1).padStart(2,'0')}.png`
      );
    }

    function imageExists(src){
      return new Promise(resolve => {
        const img = new Image();
        img.onload = () => resolve(true);
        img.onerror = () => resolve(false);
        img.src = src;
      });
    }

    async function pickValid(source, used, fallback){
      const shuffled = source
        .filter(s => !used.has(s))
        .sort(() => 0.5 - Math.random());

      for(const src of shuffled){
        if(await imageExists(src)){
          used.add(src);
          return src;
        }
      }
      return fallback;
    }

    async function countExisting(list){
      let count = 0;
      for(const src of list){
        if(await imageExists(src)) count++;
      }
      return count;
    }

    async function loadSponsors(){
      const mainList = buildList("sponsormain", 20);
      const regList  = buildList("sponsor", 20);
      const used = new Set();
      const picks = [];

      const mainCount = await countExisting(mainList);

      if(mainCount >= 2){
        picks.push(await pickValid(mainList, used, FALLBACK_MAIN));
        picks.push(await pickValid(mainList, used, FALLBACK_MAIN));
        picks.push(await pickValid(regList, used, FALLBACK));
      } else if(mainCount === 1){
        picks.push(await pickValid(mainList, used, FALLBACK_MAIN));
        picks.push(await pickValid(regList, used, FALLBACK));
        picks.push(await pickValid(regList, used, FALLBACK));
      } else {
        picks.push(FALLBACK_MAIN);
        used.add(FALLBACK_MAIN);
        picks.push(await pickValid(regList, used, FALLBACK));
        picks.push(await pickValid(regList, used, FALLBACK));
      }

      const ids = ["sponsor1","sponsor2","sponsor3"];
      ids.forEach((id, i) => {
        const el = document.getElementById(id);
        if(!el) return;

        el.src = picks[i] || (i < 2 ? FALLBACK_MAIN : FALLBACK);

        el.onerror = () => {
          el.onerror = null;
          el.src = (i < 2) ? FALLBACK_MAIN : FALLBACK;
        };
      });
    }

    loadSponsors();
  </script>
</body>
</html>
